{% extends "base.html" %}

{% block content %}
<div class="space-y-6">
  <!-- Header -->
  <div class="flex items-center justify-between">
    <h1 class="text-2xl font-bold text-slate-900 dark:text-slate-100">Lista de Empresas</h1>
    <a href="{% url 'empresas:cadastro_empresa' %}" class="inline-flex items-center gap-2 rounded-lg bg-primary px-4 py-2 text-sm font-medium text-white hover:bg-primary/90 transition-colors">
      <i class="bi bi-plus-circle"></i>
      Cadastrar Nova Empresa
    </a>
  </div>

  <!-- Table Container -->
  <div class="overflow-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 shadow-sm">
    <div class="overflow-x-auto">
      <table class="w-full divide-y divide-slate-200 dark:divide-slate-700">
        <thead class="bg-slate-50 dark:bg-slate-800">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider">
              Logomarca
            </th>
            <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider">
              CNPJ
            </th>
            <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider">
              Razão Social
            </th>
            <th class="px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider">
              Ações
            </th>
          </tr>
        </thead>
        <tbody class="bg-white dark:bg-slate-900 divide-y divide-slate-200 dark:divide-slate-700">
          {% for empresa in empresas %}
            <tr class="hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors">
              <td class="px-6 py-4 whitespace-nowrap">
                {% if empresa.logomarca %}
                  <div class="flex items-center justify-center">
                    <img src="{{ empresa.logomarca.url }}" alt="Logomarca" class="w-16 h-16 rounded-full object-cover border-2 border-slate-200 dark:border-slate-600">
                  </div>
                {% else %}
                  <div class="flex items-center justify-center">
                    <div class="w-16 h-16 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center">
                      <i class="bi bi-building text-slate-400 text-xl"></i>
                    </div>
                  </div>
                {% endif %}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100">
                {{ empresa.cnpj }}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-700 dark:text-slate-300">
                {{ empresa.razao_social }}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-right text-sm space-x-2">
                <a href="{% url 'empresas:editar_empresa' empresa.id %}" 
                   class="inline-flex items-center gap-1 rounded-md bg-slate-100 dark:bg-slate-700 px-3 py-1.5 text-xs font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors">
                  <i class="bi bi-pencil-square"></i>
                  Editar
                </a>
                <a href="{% url 'empresas:excluir_empresa' empresa.id %}" 
                   class="inline-flex items-center gap-1 rounded-md bg-red-100 dark:bg-red-900/50 px-3 py-1.5 text-xs font-medium text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-900 transition-colors">
                  <i class="bi bi-trash"></i>
                  Excluir
                </a>
              </td>
            </tr>
          {% empty %}
            <tr>
              <td colspan="4" class="px-6 py-12 text-center text-slate-500 dark:text-slate-400">
                <div class="flex flex-col items-center space-y-2">
                  <i class="bi bi-building text-4xl"></i>
                  <p>Nenhuma empresa cadastrada</p>
                </div>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}